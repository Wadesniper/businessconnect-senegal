{"ast":null,"code":"import React,{useEffect}from'react';import{Result,Button,Space}from'antd';import{CheckCircleOutlined,HomeOutlined,FileOutlined}from'@ant-design/icons';import{useNavigate,useLocation}from'react-router-dom';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StyledResult=styled(Result)`\n  padding: 48px 32px;\n  \n  .ant-result-icon {\n    .anticon {\n      font-size: 72px;\n      color: #52c41a;\n    }\n  }\n`;const PaymentSuccess=()=>{const navigate=useNavigate();const location=useLocation();const searchParams=new URLSearchParams(location.search);const token=searchParams.get('token');const ref=searchParams.get('ref');useEffect(()=>{// Vous pouvez ajouter ici une vérification du paiement avec votre backend\nif(token&&ref){// Vérifier le statut du paiement\nverifyPayment(token,ref);}},[token,ref]);const verifyPayment=async(token,ref)=>{try{const response=await fetch('/api/payments/verify',{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${localStorage.getItem('token')}`},body:JSON.stringify({token,ref})});if(!response.ok){throw new Error('Erreur lors de la vérification du paiement');}// Mettre à jour le statut de l'abonnement dans le localStorage ou le state global\nconst data=await response.json();if(data.success){localStorage.setItem('subscription_status','active');}}catch(error){console.error('Erreur de vérification:',error);}};return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'80vh',display:'flex',alignItems:'center',justifyContent:'center',background:'#f0f2f5'},children:/*#__PURE__*/_jsx(StyledResult,{icon:/*#__PURE__*/_jsx(CheckCircleOutlined,{}),title:\"Paiement r\\xE9ussi !\",subTitle:\"Votre abonnement a \\xE9t\\xE9 activ\\xE9 avec succ\\xE8s. Vous pouvez maintenant profiter de toutes les fonctionnalit\\xE9s premium.\",extra:/*#__PURE__*/_jsxs(Space,{size:\"middle\",children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(HomeOutlined,{}),onClick:()=>navigate('/'),children:\"Retour \\xE0 l'accueil\"}),/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(FileOutlined,{}),onClick:()=>navigate('/account/subscription'),children:\"Voir mon abonnement\"})]})})});};export default PaymentSuccess;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}