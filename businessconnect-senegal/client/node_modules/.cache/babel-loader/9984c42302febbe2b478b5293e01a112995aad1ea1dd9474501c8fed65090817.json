{"ast":null,"code":"class LocalStorageService{getKey(key){return`${LocalStorageService.PREFIX}${key}`;}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2);}// Applications aux offres d'emploi\ngetJobApplications(userId){const key=this.getKey(`applications_${userId}`);const data=localStorage.getItem(key);return data?JSON.parse(data):[];}saveJobApplication(application){const applications=this.getJobApplications(application.userId);applications.push(application);localStorage.setItem(this.getKey(`applications_${application.userId}`),JSON.stringify(applications));}// Offres sauvegardées\ngetSavedJobs(userId){const key=this.getKey(`saved_jobs_${userId}`);const data=localStorage.getItem(key);return data?JSON.parse(data):[];}saveJobToFavorites(savedJob){const savedJobs=this.getSavedJobs(savedJob.userId);// Éviter les doublons\nconst index=savedJobs.findIndex(job=>job.jobId===savedJob.jobId);if(index===-1){savedJobs.push(savedJob);localStorage.setItem(this.getKey(`saved_jobs_${savedJob.userId}`),JSON.stringify(savedJobs));}}removeJobFromFavorites(userId,jobId){const savedJobs=this.getSavedJobs(userId);const filteredJobs=savedJobs.filter(job=>job.jobId!==jobId);localStorage.setItem(this.getKey(`saved_jobs_${userId}`),JSON.stringify(filteredJobs));}// Alertes emploi\ngetJobAlerts(userId){const key=this.getKey(`alerts_${userId}`);const data=localStorage.getItem(key);return data?JSON.parse(data):[];}saveJobAlert(alert){const alerts=this.getJobAlerts(alert.userId);alerts.push(alert);localStorage.setItem(this.getKey(`alerts_${alert.userId}`),JSON.stringify(alerts));}updateJobAlert(alert){const alerts=this.getJobAlerts(alert.userId);const index=alerts.findIndex(a=>a.id===alert.id);if(index!==-1){alerts[index]=alert;localStorage.setItem(this.getKey(`alerts_${alert.userId}`),JSON.stringify(alerts));}}deleteJobAlert(userId,alertId){const alerts=this.getJobAlerts(userId);const filteredAlerts=alerts.filter(alert=>alert.id!==alertId);localStorage.setItem(this.getKey(`alerts_${userId}`),JSON.stringify(filteredAlerts));}// Gestion du cache\nclearUserData(userId){localStorage.removeItem(this.getKey(`applications_${userId}`));localStorage.removeItem(this.getKey(`saved_jobs_${userId}`));localStorage.removeItem(this.getKey(`alerts_${userId}`));}clearAllData(){Object.keys(localStorage).filter(key=>key.startsWith(LocalStorageService.PREFIX)).forEach(key=>localStorage.removeItem(key));}}LocalStorageService.PREFIX='businessconnect_';export const localStorageService=new LocalStorageService();","map":{"version":3,"names":["LocalStorageService","getKey","key","PREFIX","generateId","Date","now","toString","Math","random","substr","getJobApplications","userId","data","localStorage","getItem","JSON","parse","saveJobApplication","application","applications","push","setItem","stringify","getSavedJobs","saveJobToFavorites","savedJob","savedJobs","index","findIndex","job","jobId","removeJobFromFavorites","filteredJobs","filter","getJobAlerts","saveJobAlert","alert","alerts","updateJobAlert","a","id","deleteJobAlert","alertId","filteredAlerts","clearUserData","removeItem","clearAllData","Object","keys","startsWith","forEach","localStorageService"],"sources":["C:/Users/babac/OneDrive/Bureau/businessconnect-senegal-main/businessconnect-senegal/client/src/services/localStorageService.ts"],"sourcesContent":["import { JobApplication, SavedJob, JobAlert } from '../types/job';\r\n\r\nclass LocalStorageService {\r\n  private static PREFIX = 'businessconnect_';\r\n\r\n  private getKey(key: string): string {\r\n    return `${LocalStorageService.PREFIX}${key}`;\r\n  }\r\n\r\n  generateId(): string {\r\n    return Date.now().toString(36) + Math.random().toString(36).substr(2);\r\n  }\r\n\r\n  // Applications aux offres d'emploi\r\n  getJobApplications(userId: string): JobApplication[] {\r\n    const key = this.getKey(`applications_${userId}`);\r\n    const data = localStorage.getItem(key);\r\n    return data ? JSON.parse(data) : [];\r\n  }\r\n\r\n  saveJobApplication(application: JobApplication): void {\r\n    const applications = this.getJobApplications(application.userId);\r\n    applications.push(application);\r\n    localStorage.setItem(\r\n      this.getKey(`applications_${application.userId}`),\r\n      JSON.stringify(applications)\r\n    );\r\n  }\r\n\r\n  // Offres sauvegardées\r\n  getSavedJobs(userId: string): SavedJob[] {\r\n    const key = this.getKey(`saved_jobs_${userId}`);\r\n    const data = localStorage.getItem(key);\r\n    return data ? JSON.parse(data) : [];\r\n  }\r\n\r\n  saveJobToFavorites(savedJob: SavedJob): void {\r\n    const savedJobs = this.getSavedJobs(savedJob.userId);\r\n    // Éviter les doublons\r\n    const index = savedJobs.findIndex(job => job.jobId === savedJob.jobId);\r\n    if (index === -1) {\r\n      savedJobs.push(savedJob);\r\n      localStorage.setItem(\r\n        this.getKey(`saved_jobs_${savedJob.userId}`),\r\n        JSON.stringify(savedJobs)\r\n      );\r\n    }\r\n  }\r\n\r\n  removeJobFromFavorites(userId: string, jobId: string): void {\r\n    const savedJobs = this.getSavedJobs(userId);\r\n    const filteredJobs = savedJobs.filter(job => job.jobId !== jobId);\r\n    localStorage.setItem(\r\n      this.getKey(`saved_jobs_${userId}`),\r\n      JSON.stringify(filteredJobs)\r\n    );\r\n  }\r\n\r\n  // Alertes emploi\r\n  getJobAlerts(userId: string): JobAlert[] {\r\n    const key = this.getKey(`alerts_${userId}`);\r\n    const data = localStorage.getItem(key);\r\n    return data ? JSON.parse(data) : [];\r\n  }\r\n\r\n  saveJobAlert(alert: JobAlert): void {\r\n    const alerts = this.getJobAlerts(alert.userId);\r\n    alerts.push(alert);\r\n    localStorage.setItem(\r\n      this.getKey(`alerts_${alert.userId}`),\r\n      JSON.stringify(alerts)\r\n    );\r\n  }\r\n\r\n  updateJobAlert(alert: JobAlert): void {\r\n    const alerts = this.getJobAlerts(alert.userId);\r\n    const index = alerts.findIndex(a => a.id === alert.id);\r\n    if (index !== -1) {\r\n      alerts[index] = alert;\r\n      localStorage.setItem(\r\n        this.getKey(`alerts_${alert.userId}`),\r\n        JSON.stringify(alerts)\r\n      );\r\n    }\r\n  }\r\n\r\n  deleteJobAlert(userId: string, alertId: string): void {\r\n    const alerts = this.getJobAlerts(userId);\r\n    const filteredAlerts = alerts.filter(alert => alert.id !== alertId);\r\n    localStorage.setItem(\r\n      this.getKey(`alerts_${userId}`),\r\n      JSON.stringify(filteredAlerts)\r\n    );\r\n  }\r\n\r\n  // Gestion du cache\r\n  clearUserData(userId: string): void {\r\n    localStorage.removeItem(this.getKey(`applications_${userId}`));\r\n    localStorage.removeItem(this.getKey(`saved_jobs_${userId}`));\r\n    localStorage.removeItem(this.getKey(`alerts_${userId}`));\r\n  }\r\n\r\n  clearAllData(): void {\r\n    Object.keys(localStorage)\r\n      .filter(key => key.startsWith(LocalStorageService.PREFIX))\r\n      .forEach(key => localStorage.removeItem(key));\r\n  }\r\n}\r\n\r\nexport const localStorageService = new LocalStorageService(); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}