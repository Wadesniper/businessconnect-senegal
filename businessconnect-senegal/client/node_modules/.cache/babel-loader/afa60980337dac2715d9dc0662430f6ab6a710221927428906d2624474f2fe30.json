{"ast":null,"code":"import React from'react';import{Container,Grid,Typography,Box}from'@mui/material';import JobAdviceBanner from'./components/JobAdviceBanner';import RedirectBanners from'./components/RedirectBanners';import JobFilters from'./components/JobFilters';import JobCard from'./components/JobCard';import{useAuth}from'../../hooks/useAuth';import{useJobs}from'../../hooks/useJobs';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const JobsPage=()=>{const{isSubscribed}=useAuth();const{jobs,isLoading,sectors}=useJobs();// États des filtres\nconst[selectedSector,setSelectedSector]=React.useState(null);const[selectedType,setSelectedType]=React.useState(null);const[selectedLocation,setSelectedLocation]=React.useState(null);const[salaryRange,setSalaryRange]=React.useState([0,5000000]);const[experienceLevel,setExperienceLevel]=React.useState(null);const[workLocation,setWorkLocation]=React.useState(null);const filteredJobs=React.useMemo(()=>{return jobs.filter(job=>{// Filtre par secteur\nif(selectedSector&&job.sector!==selectedSector)return false;// Filtre par type de contrat\nif(selectedType&&job.type!==selectedType)return false;// Filtre par localisation\nif(selectedLocation&&!job.location.toLowerCase().includes(selectedLocation.toLowerCase()))return false;// Filtre par salaire\nif(job.salary){const jobMaxSalary=job.salary.max;if(jobMaxSalary<salaryRange[0]||jobMaxSalary>salaryRange[1])return false;}// Filtre par niveau d'expérience\nif(experienceLevel&&job.experienceLevel!==experienceLevel)return false;// Filtre par mode de travail\nif(workLocation&&job.workLocation!==workLocation)return false;return true;});},[jobs,selectedSector,selectedType,selectedLocation,salaryRange,experienceLevel,workLocation]);return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{py:4},children:[/*#__PURE__*/_jsx(JobAdviceBanner,{}),/*#__PURE__*/_jsx(RedirectBanners,{}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:3,children:/*#__PURE__*/_jsx(JobFilters,{sectors:sectors,selectedSector:selectedSector,onSectorChange:setSelectedSector,selectedType:selectedType,onTypeChange:setSelectedType,selectedLocation:selectedLocation,onLocationChange:setSelectedLocation,salaryRange:salaryRange,onSalaryRangeChange:setSalaryRange,experienceLevel:experienceLevel,onExperienceLevelChange:setExperienceLevel,workLocation:workLocation,onWorkLocationChange:setWorkLocation})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:9,children:isLoading?/*#__PURE__*/_jsx(Typography,{children:\"Chargement des offres...\"}):filteredJobs.length===0?/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',py:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Aucune offre ne correspond \\xE0 vos crit\\xE8res de recherche.\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"Essayez de modifier vos filtres pour voir plus de r\\xE9sultats.\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",gutterBottom:true,children:[filteredJobs.length,\" offre\",filteredJobs.length>1?'s':'',\" trouv\\xE9e\",filteredJobs.length>1?'s':'']}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:filteredJobs.map(job=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(JobCard,{job:job,isSubscribed:isSubscribed})},job.id))})]})})]})]});};export default JobsPage;","map":{"version":3,"names":["React","Container","Grid","Typography","Box","JobAdviceBanner","RedirectBanners","JobFilters","JobCard","useAuth","useJobs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","JobsPage","isSubscribed","jobs","isLoading","sectors","selectedSector","setSelectedSector","useState","selectedType","setSelectedType","selectedLocation","setSelectedLocation","salaryRange","setSalaryRange","experienceLevel","setExperienceLevel","workLocation","setWorkLocation","filteredJobs","useMemo","filter","job","sector","type","location","toLowerCase","includes","salary","jobMaxSalary","max","maxWidth","sx","py","children","container","spacing","item","xs","md","onSectorChange","onTypeChange","onLocationChange","onSalaryRangeChange","onExperienceLevelChange","onWorkLocationChange","length","textAlign","variant","gutterBottom","color","map","id"],"sources":["C:/Users/babac/OneDrive/Bureau/businessconnect-senegal-main/businessconnect-senegal/client/src/pages/jobs/JobsPage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Container, Grid, Typography, Box } from '@mui/material';\r\nimport JobAdviceBanner from './components/JobAdviceBanner';\r\nimport RedirectBanners from './components/RedirectBanners';\r\nimport JobFilters from './components/JobFilters';\r\nimport JobCard from './components/JobCard';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { useJobs } from '../../hooks/useJobs';\r\nimport { JobType } from '../../types/job';\r\n\r\nconst JobsPage: React.FC = () => {\r\n  const { isSubscribed } = useAuth();\r\n  const { jobs, isLoading, sectors } = useJobs();\r\n\r\n  // États des filtres\r\n  const [selectedSector, setSelectedSector] = React.useState<string | null>(null);\r\n  const [selectedType, setSelectedType] = React.useState<JobType | null>(null);\r\n  const [selectedLocation, setSelectedLocation] = React.useState<string | null>(null);\r\n  const [salaryRange, setSalaryRange] = React.useState<[number, number]>([0, 5000000]);\r\n  const [experienceLevel, setExperienceLevel] = React.useState<string | null>(null);\r\n  const [workLocation, setWorkLocation] = React.useState<string | null>(null);\r\n\r\n  const filteredJobs = React.useMemo(() => {\r\n    return jobs.filter(job => {\r\n      // Filtre par secteur\r\n      if (selectedSector && job.sector !== selectedSector) return false;\r\n      \r\n      // Filtre par type de contrat\r\n      if (selectedType && job.type !== selectedType) return false;\r\n      \r\n      // Filtre par localisation\r\n      if (selectedLocation && !job.location.toLowerCase().includes(selectedLocation.toLowerCase())) return false;\r\n      \r\n      // Filtre par salaire\r\n      if (job.salary) {\r\n        const jobMaxSalary = job.salary.max;\r\n        if (jobMaxSalary < salaryRange[0] || jobMaxSalary > salaryRange[1]) return false;\r\n      }\r\n      \r\n      // Filtre par niveau d'expérience\r\n      if (experienceLevel && job.experienceLevel !== experienceLevel) return false;\r\n      \r\n      // Filtre par mode de travail\r\n      if (workLocation && job.workLocation !== workLocation) return false;\r\n      \r\n      return true;\r\n    });\r\n  }, [\r\n    jobs,\r\n    selectedSector,\r\n    selectedType,\r\n    selectedLocation,\r\n    salaryRange,\r\n    experienceLevel,\r\n    workLocation\r\n  ]);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n      {/* Bannière de conseils */}\r\n      <JobAdviceBanner />\r\n\r\n      {/* Bannières de redirection (CV et Formation) */}\r\n      <RedirectBanners />\r\n\r\n      <Grid container spacing={4}>\r\n        {/* Filtres */}\r\n        <Grid item xs={12} md={3}>\r\n          <JobFilters\r\n            sectors={sectors}\r\n            selectedSector={selectedSector}\r\n            onSectorChange={setSelectedSector}\r\n            selectedType={selectedType}\r\n            onTypeChange={setSelectedType}\r\n            selectedLocation={selectedLocation}\r\n            onLocationChange={setSelectedLocation}\r\n            salaryRange={salaryRange}\r\n            onSalaryRangeChange={setSalaryRange}\r\n            experienceLevel={experienceLevel}\r\n            onExperienceLevelChange={setExperienceLevel}\r\n            workLocation={workLocation}\r\n            onWorkLocationChange={setWorkLocation}\r\n          />\r\n        </Grid>\r\n\r\n        {/* Liste des offres */}\r\n        <Grid item xs={12} md={9}>\r\n          {isLoading ? (\r\n            <Typography>Chargement des offres...</Typography>\r\n          ) : filteredJobs.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 4 }}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Aucune offre ne correspond à vos critères de recherche.\r\n              </Typography>\r\n              <Typography color=\"text.secondary\">\r\n                Essayez de modifier vos filtres pour voir plus de résultats.\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                {filteredJobs.length} offre{filteredJobs.length > 1 ? 's' : ''} trouvée{filteredJobs.length > 1 ? 's' : ''}\r\n              </Typography>\r\n              <Grid container spacing={3}>\r\n                {filteredJobs.map((job) => (\r\n                  <Grid item xs={12} md={6} key={job.id}>\r\n                    <JobCard job={job} isSubscribed={isSubscribed} />\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            </>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default JobsPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}