{"ast":null,"code":"import React,{useState}from'react';import{Form,Input,Button,message}from'antd';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterForm=()=>{const[loading,setLoading]=useState(false);const{register}=useAuth();const navigate=useNavigate();const[form]=Form.useForm();const onFinish=async values=>{try{setLoading(true);const[firstName,...lastNameParts]=values.fullName.trim().split(' ');const lastName=lastNameParts.join(' ');const registrationData={firstName,lastName,phoneNumber:values.phoneNumber,password:values.password,email:values.email,role:'etudiant'// Rôle par défaut\n};await register(registrationData);message.success('Inscription réussie ! Vous pouvez maintenant vous connecter.');navigate('/login');}catch(error){message.error('Erreur lors de l\\'inscription. Veuillez réessayer.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:400,margin:'40px auto',padding:'0 20px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',marginBottom:24},children:\"Inscription\"}),/*#__PURE__*/_jsxs(Form,{form:form,name:\"register\",onFinish:onFinish,layout:\"vertical\",requiredMark:false,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"fullName\",label:\"Nom complet\",rules:[{required:true,message:'Veuillez saisir votre nom complet'},{min:3,message:'Le nom doit contenir au moins 3 caractères'},{pattern:/^[a-zA-ZÀ-ÿ\\s]+$/,message:'Le nom ne doit contenir que des lettres'}],children:/*#__PURE__*/_jsx(Input,{size:\"large\",placeholder:\"Pr\\xE9nom et Nom\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"phoneNumber\",label:\"Num\\xE9ro de t\\xE9l\\xE9phone\",rules:[{required:true,message:'Veuillez saisir votre numéro de téléphone'},{pattern:/^\\+?[0-9]{8,15}$/,message:'Numéro de téléphone invalide'}],children:/*#__PURE__*/_jsx(Input,{size:\"large\",placeholder:\"+221 XX XXX XX XX\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"email\",label:\"Email (optionnel)\",rules:[{type:'email',message:'Email invalide'}],children:/*#__PURE__*/_jsx(Input,{size:\"large\",placeholder:\"exemple@email.com\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",label:\"Mot de passe\",rules:[{required:true,message:'Veuillez saisir un mot de passe'},{min:8,message:'Le mot de passe doit contenir au moins 8 caractères'}],children:/*#__PURE__*/_jsx(Input.Password,{size:\"large\",placeholder:\"Votre mot de passe\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"confirmPassword\",label:\"Confirmer le mot de passe\",dependencies:['password'],rules:[{required:true,message:'Veuillez confirmer votre mot de passe'},_ref=>{let{getFieldValue}=_ref;return{validator(_,value){if(!value||getFieldValue('password')===value){return Promise.resolve();}return Promise.reject(new Error('Les mots de passe ne correspondent pas'));}};}],children:/*#__PURE__*/_jsx(Input.Password,{size:\"large\",placeholder:\"Confirmez votre mot de passe\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",size:\"large\",block:true,loading:loading,children:\"S'inscrire\"})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"D\\xE9j\\xE0 inscrit ? Se connecter\"})})]})]});};export default RegisterForm;","map":{"version":3,"names":["React","useState","Form","Input","Button","message","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","RegisterForm","loading","setLoading","register","navigate","form","useForm","onFinish","values","firstName","lastNameParts","fullName","trim","split","lastName","join","registrationData","phoneNumber","password","email","role","success","error","style","maxWidth","margin","padding","children","textAlign","marginBottom","name","layout","requiredMark","Item","label","rules","required","min","pattern","size","placeholder","type","Password","dependencies","_ref","getFieldValue","validator","_","value","Promise","resolve","reject","Error","htmlType","block","href"],"sources":["C:/Users/babac/OneDrive/Bureau/businessconnect-senegal-main/businessconnect-senegal/client/src/components/RegisterForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { UserRegistrationData } from '../types/user';\r\n\r\nconst RegisterForm: React.FC = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const { register } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = async (values: {\r\n    fullName: string;\r\n    phoneNumber: string;\r\n    email?: string;\r\n    password: string;\r\n  }) => {\r\n    try {\r\n      setLoading(true);\r\n      const [firstName, ...lastNameParts] = values.fullName.trim().split(' ');\r\n      const lastName = lastNameParts.join(' ');\r\n\r\n      const registrationData: UserRegistrationData = {\r\n        firstName,\r\n        lastName,\r\n        phoneNumber: values.phoneNumber,\r\n        password: values.password,\r\n        email: values.email,\r\n        role: 'etudiant' // Rôle par défaut\r\n      };\r\n\r\n      await register(registrationData);\r\n      message.success('Inscription réussie ! Vous pouvez maintenant vous connecter.');\r\n      navigate('/login');\r\n    } catch (error) {\r\n      message.error('Erreur lors de l\\'inscription. Veuillez réessayer.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 400, margin: '40px auto', padding: '0 20px' }}>\r\n      <h2 style={{ textAlign: 'center', marginBottom: 24 }}>Inscription</h2>\r\n      <Form\r\n        form={form}\r\n        name=\"register\"\r\n        onFinish={onFinish}\r\n        layout=\"vertical\"\r\n        requiredMark={false}\r\n      >\r\n        <Form.Item\r\n          name=\"fullName\"\r\n          label=\"Nom complet\"\r\n          rules={[\r\n            { required: true, message: 'Veuillez saisir votre nom complet' },\r\n            { min: 3, message: 'Le nom doit contenir au moins 3 caractères' },\r\n            { pattern: /^[a-zA-ZÀ-ÿ\\s]+$/, message: 'Le nom ne doit contenir que des lettres' }\r\n          ]}\r\n        >\r\n          <Input size=\"large\" placeholder=\"Prénom et Nom\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"phoneNumber\"\r\n          label=\"Numéro de téléphone\"\r\n          rules={[\r\n            { required: true, message: 'Veuillez saisir votre numéro de téléphone' },\r\n            { pattern: /^\\+?[0-9]{8,15}$/, message: 'Numéro de téléphone invalide' }\r\n          ]}\r\n        >\r\n          <Input size=\"large\" placeholder=\"+221 XX XXX XX XX\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Email (optionnel)\"\r\n          rules={[\r\n            { type: 'email', message: 'Email invalide' }\r\n          ]}\r\n        >\r\n          <Input size=\"large\" placeholder=\"exemple@email.com\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          label=\"Mot de passe\"\r\n          rules={[\r\n            { required: true, message: 'Veuillez saisir un mot de passe' },\r\n            { min: 8, message: 'Le mot de passe doit contenir au moins 8 caractères' }\r\n          ]}\r\n        >\r\n          <Input.Password size=\"large\" placeholder=\"Votre mot de passe\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"confirmPassword\"\r\n          label=\"Confirmer le mot de passe\"\r\n          dependencies={['password']}\r\n          rules={[\r\n            { required: true, message: 'Veuillez confirmer votre mot de passe' },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject(new Error('Les mots de passe ne correspondent pas'));\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password size=\"large\" placeholder=\"Confirmez votre mot de passe\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            size=\"large\"\r\n            block\r\n            loading={loading}\r\n          >\r\n            S'inscrire\r\n          </Button>\r\n        </Form.Item>\r\n\r\n        <div style={{ textAlign: 'center' }}>\r\n          <a href=\"/login\">Déjà inscrit ? Se connecter</a>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}