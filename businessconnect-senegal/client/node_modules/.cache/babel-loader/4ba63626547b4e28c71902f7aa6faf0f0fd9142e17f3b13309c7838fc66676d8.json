{"ast":null,"code":"import{createContext,useContext,useEffect,useState}from'react';import{authService}from'../services/authService';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext({user:null,isAuthenticated:false,loading:true,logout:async()=>{}});export const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchUser=async()=>{setLoading(true);const currentUser=await authService.getCurrentUser();setUser(currentUser);setLoading(false);};fetchUser();},[]);const logout=async()=>{await authService.logout();setUser(null);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,isAuthenticated:!!user,loading,logout},children:children});};export const useAuth=()=>useContext(AuthContext);","map":{"version":3,"names":["createContext","useContext","useEffect","useState","authService","jsx","_jsx","AuthContext","user","isAuthenticated","loading","logout","AuthProvider","_ref","children","setUser","setLoading","fetchUser","currentUser","getCurrentUser","Provider","value","useAuth"],"sources":["C:/Users/babac/OneDrive/Bureau/businessconnect-senegal-main/businessconnect-senegal/client/src/hooks/useAuth.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { authService } from '../services/authService';\r\nimport { User } from '../types/user';\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  loading: boolean;\r\n  logout: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType>({\r\n  user: null,\r\n  isAuthenticated: false,\r\n  loading: true,\r\n  logout: async () => {},\r\n});\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      setLoading(true);\r\n      const currentUser = await authService.getCurrentUser();\r\n      setUser(currentUser);\r\n      setLoading(false);\r\n    };\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const logout = async () => {\r\n    await authService.logout();\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, isAuthenticated: !!user, loading, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext); "],"mappings":"AAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAmB,OAAO,CACjF,OAASC,WAAW,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAUtD,KAAM,CAAAC,WAAW,cAAGP,aAAa,CAAkB,CACjDQ,IAAI,CAAE,IAAI,CACVC,eAAe,CAAE,KAAK,CACtBC,OAAO,CAAE,IAAI,CACbC,MAAM,CAAE,KAAAA,CAAA,GAAY,CAAC,CACvB,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,YAAY,CAAGC,IAAA,EAA2C,IAA1C,CAAEC,QAAkC,CAAC,CAAAD,IAAA,CAChE,KAAM,CAACL,IAAI,CAAEO,OAAO,CAAC,CAAGZ,QAAQ,CAAc,IAAI,CAAC,CACnD,KAAM,CAACO,OAAO,CAAEM,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5BD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAE,WAAW,CAAG,KAAM,CAAAd,WAAW,CAACe,cAAc,CAAC,CAAC,CACtDJ,OAAO,CAACG,WAAW,CAAC,CACpBF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CACDC,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAN,MAAM,CAAG,KAAAA,CAAA,GAAY,CACzB,KAAM,CAAAP,WAAW,CAACO,MAAM,CAAC,CAAC,CAC1BI,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACET,IAAA,CAACC,WAAW,CAACa,QAAQ,EAACC,KAAK,CAAE,CAAEb,IAAI,CAAEC,eAAe,CAAE,CAAC,CAACD,IAAI,CAAEE,OAAO,CAAEC,MAAO,CAAE,CAAAG,QAAA,CAC7EA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,MAAM,CAAAQ,OAAO,CAAGA,CAAA,GAAMrB,UAAU,CAACM,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}