{"ast":null,"code":"import React from'react';import{Container,Typography,Box,Card,CardContent,Button,Grid,List,ListItem,ListItemIcon,ListItemText}from'@mui/material';import{Check as CheckIcon}from'@mui/icons-material';import{useAuth}from'../../hooks/useAuth';import{useSubscription}from'../../hooks/useSubscription';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const subscriptionPlans=[{id:'monthly',title:'Abonnement Mensuel',price:'15000',period:'mois',features:['Accès à toutes les formations Cursa.app','Certificats numériques inclus','Support prioritaire','Annulation à tout moment']},{id:'yearly',title:'Abonnement Annuel',price:'150000',period:'an',features:['Accès à toutes les formations Cursa.app','Certificats numériques inclus','Support prioritaire','Économisez 30000 FCFA','Annulation à tout moment'],recommended:true}];const SubscriptionPage=()=>{const{user}=useAuth();const{hasActiveSubscription,initiateSubscription}=useSubscription();const handleSubscribe=async planId=>{if(!user){window.location.href=`/auth/login?redirect=${window.location.pathname}`;return;}try{const{paymentUrl}=await initiateSubscription(planId);window.location.href=paymentUrl;}catch(error){console.error('Erreur lors de l\\'initiation du paiement:',error);}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{py:8},children:[/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",mb:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",component:\"h1\",gutterBottom:true,children:\"Abonnement BusinessConnect\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"text.secondary\",children:\"Acc\\xE9dez \\xE0 plus de 4000 formations en ligne avec certificats\"})]}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,justifyContent:\"center\",children:subscriptionPlans.map(plan=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,lg:4,children:/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',display:'flex',flexDirection:'column',position:'relative',...(plan.recommended&&{border:'2px solid',borderColor:'primary.main'})},children:[plan.recommended&&/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:16,right:16,bgcolor:'primary.main',color:'white',px:2,py:0.5,borderRadius:1},children:\"Recommand\\xE9\"}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h2\",gutterBottom:true,children:plan.title}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'baseline',mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h3\",component:\"span\",children:[parseInt(plan.price).toLocaleString(),\" FCFA\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",component:\"span\",ml:1,children:[\"/\",plan.period]})]}),/*#__PURE__*/_jsx(List,{children:plan.features.map((feature,index)=>/*#__PURE__*/_jsxs(ListItem,{disableGutters:true,children:[/*#__PURE__*/_jsx(ListItemIcon,{sx:{minWidth:40},children:/*#__PURE__*/_jsx(CheckIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:feature})]},index))})]}),/*#__PURE__*/_jsx(Box,{sx:{p:2},children:/*#__PURE__*/_jsx(Button,{variant:plan.recommended?'contained':'outlined',color:\"primary\",size:\"large\",fullWidth:true,onClick:()=>handleSubscribe(plan.id),disabled:hasActiveSubscription,children:hasActiveSubscription?'Déjà abonné':'Choisir ce plan'})})]})},plan.id))}),/*#__PURE__*/_jsxs(Box,{sx:{mt:8,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",paragraph:true,children:\"Paiement s\\xE9curis\\xE9 via Orange Money, Wave et cartes bancaires\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"En vous abonnant, vous acceptez nos conditions g\\xE9n\\xE9rales d'utilisation\"})]})]});};export default SubscriptionPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}