{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Row,Col,Typography,DatePicker,Select,Spin}from'antd';import{adminService}from'../../../services/adminService';import{Line,Pie}from'@ant-design/plots';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Title}=Typography;const{RangePicker}=DatePicker;const Statistics=()=>{const[loading,setLoading]=useState(true);const[viewType,setViewType]=useState('week');const[dateRange,setDateRange]=useState(null);const[stats,setStats]=useState(null);const fetchStats=async()=>{try{setLoading(true);const data=await adminService.getStatistics(dateRange?{start:dateRange[0],end:dateRange[1]}:undefined,viewType);setStats(data);}catch(error){console.error('Erreur lors du chargement des statistiques:',error);}finally{setLoading(false);}};useEffect(()=>{fetchStats();},[dateRange,viewType]);if(loading||!stats){return/*#__PURE__*/_jsx(Spin,{size:\"large\"});}const userGrowthConfig={data:stats.userGrowth,xField:'date',yField:'count',smooth:true,point:{size:5,shape:'diamond'}};const subscriptionConfig={data:stats.subscriptionDistribution,angleField:'count',colorField:'type',radius:0.8,label:{type:'outer'}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:20},children:/*#__PURE__*/_jsxs(Row,{gutter:16,align:\"middle\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(RangePicker,{onChange:dates=>setDateRange(dates),style:{marginRight:16}})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Select,{value:viewType,onChange:setViewType,style:{width:120},options:[{value:'day',label:'Par jour'},{value:'week',label:'Par semaine'},{value:'month',label:'Par mois'}]})})]})}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],children:[/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{title:\"Utilisateurs totaux\",children:/*#__PURE__*/_jsx(\"h2\",{children:stats.users})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{title:\"Offres d'emploi\",children:/*#__PURE__*/_jsx(\"h2\",{children:stats.jobs})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{title:\"Abonnements actifs\",children:/*#__PURE__*/_jsx(\"h2\",{children:stats.subscriptions})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(Card,{title:\"Revenus (FCFA)\",children:/*#__PURE__*/_jsx(\"h2\",{children:stats.revenue.toLocaleString()})})})]}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],style:{marginTop:16},children:[/*#__PURE__*/_jsx(Col,{span:16,children:/*#__PURE__*/_jsx(Card,{title:\"Croissance des utilisateurs\",children:/*#__PURE__*/_jsx(Line,{...userGrowthConfig})})}),/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{title:\"Distribution des abonnements\",children:/*#__PURE__*/_jsx(Pie,{...subscriptionConfig})})})]})]});};export default Statistics;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}